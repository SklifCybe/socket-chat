(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{155:function(e,t,n){"use strict";n.r(t);var a,c=n(0),s=n.n(c),r=n(49),o=n.n(r),i=n(63),l=n(13),j=n(16),d=n(218),u=n(204),m=n(14),x=n(102),b=n(109),h=n(217),O=n(210),p=n(212),f=n(213),g=n(214),v=n(106),M=n.n(v),y=n(2),k=function(e){var t=e.history,n=e.roomName;return Object(y.jsx)(O.a,{position:"static",sx:{width:"100%",borderTopLeftRadius:"10px !important",borderTopRightRadius:"10px !important"},children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(f.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:n}),Object(y.jsx)(g.a,{onClick:function(){t.push("/")},sx:{mr:"10px"},size:"large",edge:"start",color:"inherit","aria-label":"menu",children:Object(y.jsx)(M.a,{})})]})})},C=n(206),S=n(215),E=n(25),R=n(216),N=Object(C.a)((function(e){return{sendButton:{width:"calc(100% - 75%)",borderLeft:"1px solid black",borderRadius:"0 0 10px 0",color:e.palette.primary.dark}}})),T=function(e){var t=e.message,n=e.sendMessage,a=e.handleMessage,c=n.sendMessageEnter,s=n.sendMessageBtn,r=N();return Object(y.jsxs)(S.a,{component:"div",sx:{display:"flex",width:"100%",borderRadius:"0 0 10px 10px",border:"1px solid black"},children:[Object(y.jsx)(E.c,{sx:{mt:"20x",ml:"20px",flex:1,color:"#000"},placeholder:"Type a message...",value:t,onChange:a,onKeyPress:c,autoFocus:!0}),Object(y.jsx)(R.a,{onClick:s,className:r.sendButton,variant:"text",children:"Send"})]})},w=n(209),D=Object(C.a)((function(e){return{message:{display:"flex",alignItems:"center",color:"#000"},messageText:{wordBreak:"break-word",margin:"5px 10px",padding:"6px",borderRadius:"10px"},myMessageColor:{backgroundColor:e.palette.secondary.main,color:"#fff"},notMyMessageColor:{backgroundColor:e.palette.secondary.light,color:"#000"},notMyMessage:{justifyContent:"right"}}})),F=function(e){var t=e.message,n=e.name,a=D(),c=!1;return t.user===n&&(c=!0),Object(y.jsx)(y.Fragment,{children:c?Object(y.jsx)(w.a,{container:!0,spacing:1,children:Object(y.jsxs)(w.a,{item:!0,className:a.message,children:[Object(y.jsxs)(f.a,{children:[t.user,":"]}),Object(y.jsx)(f.a,{className:"".concat(a.messageText," ").concat(a.myMessageColor),children:t.text})]})}):Object(y.jsx)(w.a,{container:!0,spacing:1,className:a.notMyMessage,children:Object(y.jsxs)(w.a,{item:!0,className:a.message,children:[Object(y.jsxs)(f.a,{children:[t.user,":"]}),Object(y.jsx)(f.a,{className:"".concat(a.messageText," ").concat(a.notMyMessageColor),children:t.text})]})})})},I=function(e){var t=e.messages,n=e.name,a=e.messageRef;return Object(y.jsx)(S.a,{component:"div",ref:a,sx:{display:"flex",flexDirection:"column",height:"20rem",width:"100%",border:"solid #888",borderWidth:"0 1px 0 1px",padding:"1rem",overflowY:"auto"},children:t.map((function(e){return Object(y.jsx)(F,{message:e,name:n})}))})},B=function(e){var t=e.location,n=Object(j.e)(),s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],d=Object(c.useState)(""),u=Object(l.a)(d,2),O=u[0],p=u[1],f=Object(c.useState)(""),g=Object(l.a)(f,2),v=g[0],M=g[1],C=Object(c.useState)([]),S=Object(l.a)(C,2),E=S[0],R=S[1],N=Object(c.useRef)(null),w="https://chat-socket-io-react.herokuapp.com/";Object(c.useEffect)((function(){var e=Object(x.parse)(t.search),c=e.name,s=e.room;return(a=Object(b.a)(w)).emit("ROOM:JOIN",{name:c,room:s},(function(){alert("This name=".concat(c," is exist")),n.push("/"),a.off()})),i(c),p(s),function(){a.disconnect()}}),[t.search,w]),Object(c.useEffect)((function(){a.on("ROOM:MESSAGE",(function(e){R((function(t){return[].concat(Object(m.a)(t),[e])}))}))}),[]),Object(c.useEffect)((function(){var e;N&&(null===N||void 0===N||null===(e=N.current)||void 0===e||e.scrollTo(0,99999))}),[E]);return Object(y.jsxs)(h.a,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",padding:"0 !important",borderRadius:"10px !important"},children:[Object(y.jsx)(k,{history:n,roomName:O}),Object(y.jsx)(I,{messages:E,name:o,messageRef:N}),Object(y.jsx)(T,{message:v,sendMessage:{sendMessageEnter:function(e){"Enter"===e.key&&v&&a.emit("ROOM:SEND_MESSAGE",v,(function(){return M("")}))},sendMessageBtn:function(){v&&a.emit("ROOM:SEND_MESSAGE",v,(function(){return M("")}))}},handleMessage:function(e){M(e.target.value)}})]})},W=n(205),J=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],d=Object(j.e)();return Object(y.jsxs)(h.a,{component:"main",maxWidth:"xs",sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(y.jsx)(f.a,{component:"h1",variant:"h5",children:"Join in Chat"}),Object(y.jsx)(W.a,{margin:"normal",fullWidth:!0,label:"User Name",value:n,onChange:function(e){a(e.target.value)}}),Object(y.jsx)(W.a,{margin:"normal",fullWidth:!0,label:"Room ID",value:o,onChange:function(e){i(e.target.value)}}),Object(y.jsx)(R.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){n&&o&&d.push("/chat?name=".concat(n,"&room=").concat(o))},children:"JOIN"})]})},A=n(202),G=n(203),L=function(e){var t=e.theme,n=e.setTheme;return Object(y.jsx)(h.a,{sx:{textAlign:"right",paddingTop:"10px"},children:Object(y.jsx)(g.a,{onClick:function(){n((function(e){return!e}))},children:t?Object(y.jsx)(A.a,{}):Object(y.jsx)(G.a,{})})})},_=n(110),z={main:"#2C6DFF",light:"#F2F1F2"},K=Object(_.a)({palette:{secondary:z,mode:"dark"}}),P=Object(_.a)({palette:{secondary:z,mode:"light"}}),U=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(y.jsxs)(d.a,{theme:n?K:P,children:[Object(y.jsx)(u.a,{}),Object(y.jsx)(L,{theme:n,setTheme:a}),Object(y.jsx)(j.a,{path:"/",exact:!0,component:J}),Object(y.jsx)(j.a,{path:"/chat",component:B})]})};o.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(i.a,{children:Object(y.jsx)(U,{})})}),document.getElementById("root"))}},[[155,1,2]]]);
//# sourceMappingURL=main.e6773b3d.chunk.js.map